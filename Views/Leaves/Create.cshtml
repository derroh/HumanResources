@model HumanResources.ViewModels.LeaveApplicationViewModel

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<div class="page-content">

    <div class="page-header">
        <h1>
            Leave Application
        </h1>
    </div><!-- /.page-header -->

    <div class="row">
        <div class="col-xs-12">
            <!-- PAGE CONTENT BEGINS -->

            <div class="widget-box">
                <div class="widget-header widget-header-blue widget-header-flat">
                    <h4 class="widget-title lighter">New Leave Application Wizard</h4>
                </div>

                <div class="widget-body">
                    <div class="widget-main">
                        <div id="fuelux-wizard-container">
                            <div>
                                <ul class="steps">
                                    <li data-step="1" class="active">
                                        <span class="step">1</span>
                                        <span class="title">Leave Type Selection</span>
                                    </li>

                                    <li data-step="2">
                                        <span class="step">2</span>
                                        <span class="title">Leave Days Selection</span>
                                    </li>

                                    <li data-step="3">
                                        <span class="step">3</span>
                                        <span class="title">Attachments</span>
                                    </li>

                                    <li data-step="4">
                                        <span class="step">4</span>
                                        <span class="title">Finish</span>
                                    </li>
                                </ul>
                            </div>

                            <hr />

                            <div class="step-content pos-rel">
                                <div class="step-pane active" data-step="1">
                                    <h3 class="lighter block green">Enter the following information</h3>

                                    @using (Html.BeginForm("SaveSelection", "Leaves", FormMethod.Post, new { @id = "leaveselection-form", @class = "form-horizontal" }))
                                    {
                                        @Html.AntiForgeryToken()

                                        HtmlHelper.UnobtrusiveJavaScriptEnabled = false;

                                        <div class="hr hr-dotted"></div>

                                        <div class="space-2"></div>

                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveType">Leave Type</label>

                                            <div class="col-xs-12 col-sm-9">                                               

                                                <div class="clearfix">

                                                    @Html.DropDownListFor(m => m.LeaveType,
                                                                        new SelectList(ViewBag.LeaveTypes, "Code", "Description", ""),
                                                                        "Select Leave Type",
                                                                        new { @class = "select2", @data_placeholder = "Click to Choose..." })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveType, "", new { @class = "text-danger  " })
                                            </div>
                                        </div>
                                        <div class="space-2"></div>

                                        @*<div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveDaysEntitled">Leave Days Entitled:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveDaysEntitled, new { @class = "col-xs-12 col-sm-4" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveDaysEntitled, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveDaysTaken">Leave Days Taken:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveDaysTaken, new { @class = "col-xs-12 col-sm-4" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveDaysTaken, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveBalance">Leave Balance:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveBalance, new { @class = "col-xs-12 col-sm-5" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveBalance, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="hr hr-dotted"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveAccruedDays">Leave Accrued Days:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveAccruedDays, new { @class = "col-xs-12 col-sm-5" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveAccruedDays, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveOpeningBalance">Leave Opening Balance:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveOpeningBalance, new { @class = "col-xs-12 col-sm-5" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveOpeningBalance, "", new { @class = "text-danger" })
                                            </div>
                                        </div>*@
                                    }
                                </div>

                                <div class="step-pane" data-step="2">
                                    <h3 class="lighter block green">Select your leave days</h3>

                                    @using (Html.BeginForm("SaveLeaveSelection", "Leaves", FormMethod.Post, new { @id = "leavedaysselection-form", @class = "form-horizontal" }))
                                    {
                                        @Html.AntiForgeryToken()

                                        HtmlHelper.UnobtrusiveJavaScriptEnabled = false;

                                        <div class="hr hr-dotted"></div>
                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="name">Date Ranges:</label>

                                            <div class="col-xs-12 col-sm-6">
                                                <div class="col-xs-12 col-sm-6 input-daterange input-group">
                                                    @Html.TextBoxFor(m => m.StartDate, new { @class = "input-sm form-control date-picker" })
                                                    <span class="input-group-addon">
                                                        <i class="fa fa-exchange"></i>
                                                    </span>

                                                    @Html.TextBoxFor(m => m.EndDate, new { @class = "input-sm form-control" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.StartDate, "", new { @class = "text-danger" })
                                                @Html.ValidationMessageFor(m => m.EndDate, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="space-2"></div>

                                        <div class="hr hr-dotted"></div>


                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveDaysApplied">Leave Days Applied:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveDaysApplied, new { @class = "col-xs-12 col-sm-4" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveDaysApplied, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveStartDate">Leave Start Date:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveStartDate, new { @class = "col-xs-12 col-sm-4", @disabled = "disabled" })                                                   
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveStartDate, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="LeaveEndDate">Leave End Date:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.LeaveEndDate, new { @class = "col-xs-12 col-sm-4", @disabled = "disabled" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveEndDate, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="ReturnDate">Return Date:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextBoxFor(m => m.ReturnDate, new { @class = "col-xs-12 col-sm-4", @disabled = "disabled" })
                                                </div>
                                                @Html.ValidationMessageFor(m => m.ReturnDate, "", new { @class = "text-danger" })
                                            </div>
                                        </div>



                                        <div class="hr hr-dotted"></div>
                                    }
                                </div>

                                <div class="step-pane" data-step="3">
                                    <h3 class="lighter block green">Add relevant Attachments For this application</h3>
                                    @using (Html.BeginForm("SaveLeaveSelection", "Leaves", FormMethod.Post, new { @id = "leaveattachments-form", @class = "form-horizontal" }))
                                    {
                                        @Html.AntiForgeryToken()


                                        HtmlHelper.UnobtrusiveJavaScriptEnabled = false;

                                        <div class="hr hr-dotted"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="name">Attachments:</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="col-xs-12 col-sm-6">
                                                    <div class="clearfix">
                                                        @Html.TextBoxFor(m => m.LeaveAttachments, new { type = "file", multiple = "true" })
                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.LeaveAttachments, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>


                                        <div class="space-2"></div>

                                        <div class="form-group">
                                            <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="comment">Comment</label>

                                            <div class="col-xs-12 col-sm-9">
                                                <div class="clearfix">
                                                    @Html.TextAreaFor(m => m.LeaveComment, new { @class = "autosize-transition limited form-control" })                                                 
                                                </div>
                                                @Html.ValidationMessageFor(m => m.LeaveComment, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    }
                                </div>

                                <div class="step-pane" data-step="4">
                                    <div class="center">
                                        <h3 class="green">Congrats!</h3>
                                        Your application is ready to be submitted! Click finish to submit for approval!
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr />
                        <div class="wizard-actions">
                            <button class="btn btn-prev">
                                <i class="ace-icon fa fa-arrow-left"></i>
                                Prev
                            </button>

                            <button class="btn btn-success btn-next" data-last="Finish">
                                Next
                                <i class="ace-icon fa fa-arrow-right icon-on-right"></i>
                            </button>
                        </div>
                    </div><!-- /.widget-main -->
                </div><!-- /.widget-body -->
            </div>
            <!-- PAGE CONTENT ENDS -->
        </div><!-- /.col -->
    </div><!-- /.row -->
</div>

